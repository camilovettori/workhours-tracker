<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0f172a" />
  <title>Work Hours Tracker</title>

  <link rel="manifest" href="/static/manifest.webmanifest" />
  <link rel="icon" href="/static/logo.png" />
  <link rel="stylesheet" href="/static/app.css?v=12" />
</head>
<script>
  (async () => {
    try {
      if ("serviceWorker" in navigator) {
        const regs = await navigator.serviceWorker.getRegistrations();
        for (const r of regs) await r.unregister();
      }
      if (window.caches) {
        const keys = await caches.keys();
        for (const k of keys) await caches.delete(k);
      }
      console.log("SW + caches nuked ‚úÖ");
    } catch (e) {
      console.log("SW nuke failed", e);
    }
  })();
</script>


<body>
  <main class="app">

    <!-- =========================
         LOGIN VIEW
    ========================== -->
    <section id="viewLogin" class="loginView hidden">
      <div class="loginCard">

        <!-- Logo centered + bigger -->
        <div class="loginBrand">
          <img src="/static/logo.png" class="loginLogoBig" alt="App logo" />
          <div class="loginTitle">Work Hours Tracker</div>
        </div>

        <!-- LOGIN FORM (only one login button: the blue one below) -->
        <form id="loginForm" class="form">
          <label class="field">
            <span>Email</span>
            <input id="loginEmail" type="email" autocomplete="email" required />
          </label>

          <label class="field">
            <span>Password</span>
            <input id="loginPassword" type="password" autocomplete="current-password" required />
          </label>

          <label class="remember">
            <input id="loginRemember" type="checkbox" />
            <span>Remember me</span>
          </label>

          <button class="btn btn--primary" type="submit">Login</button>

          <button id="btnForgot" class="linkBtn" type="button">Forgot password?</button>

          <!-- Sign up moved BELOW the original login button -->
          <div class="altAction">
            <span>Don‚Äôt have an account?</span>
            <button id="btnShowSignup" class="linkBtn linkBtn--strong" type="button">Sign up</button>
          </div>

          <div id="loginMsg" class="msg" aria-live="polite"></div>
        </form>

        <!-- SIGNUP (hidden by default, opens from the Sign up below) -->
        <form id="signupForm" class="form hidden">
          <div class="row2">
            <label class="field">
              <span>First name</span>
              <input id="suFirst" type="text" autocomplete="given-name" required />
            </label>

            <label class="field">
              <span>Last name</span>
              <input id="suLast" type="text" autocomplete="family-name" required />
            </label>
          </div>

          <label class="field">
            <span>Email</span>
            <input id="suEmail" type="email" autocomplete="email" required />
          </label>

          <label class="field">
            <span>Password</span>
            <input id="suPassword" type="password" autocomplete="new-password" minlength="4" required />
          </label>

          <button class="btn btn--primary" type="submit">Create account</button>

          <div class="altAction">
            <span>Already have an account?</span>
            <button id="btnShowLogin" class="linkBtn linkBtn--strong" type="button">Back to login</button>
          </div>

          <div id="signupMsg" class="msg" aria-live="polite"></div>
        </form>

        <!-- Forgot panel -->
        <div id="forgotPanel" class="forgot hidden">
          <div class="forgotTitle">Reset password</div>
          <div class="forgotSub">Type your email and we‚Äôll generate a reset link (dev mode).</div>

          <div class="forgotRow">
            <input id="forgotEmail" type="email" placeholder="you@email.com" />
            <button id="btnSendReset" class="btn btn--soft" type="button">Send</button>
          </div>

          <div id="forgotMsg" class="msg"></div>
        </div>

        <div class="credit">Developed by Camilo Vettori</div>
      </div>
    </section>
<!-- =========================
     ADD WEEK VIEW (full page)
========================== -->
<section id="viewAddWeek" class="homeView hidden">
  <header class="topbar">
    <div>
      <h1 class="h1">Add week</h1>
      <div class="subtitle">Create a new week</div>
    </div>

    <button id="btnBackAddWeek" class="btn btn--pill btn--ghost" type="button">Back</button>
  </header>

  <section class="card card--big">
    <form id="addWeekForm" class="form">
      <label class="field">
        <span>Week number</span>
        <input id="awWeekNumber" type="number" min="1" max="53" required />
      </label>

      <label class="field">
        <span>Start date</span>
        <input id="awStartDate" type="date" required />
      </label>

      <label class="field">
        <span>Hourly rate (‚Ç¨)</span>
        <input id="awHourlyRate" type="number" step="0.01" min="0" required />
      </label>

      <button class="btn btn--primary" type="submit">Create week</button>

      <div id="addWeekMsg" class="msg" aria-live="polite"></div>
    </form>
  </section>

  <div class="safeSpace"></div>
</section>

    <!-- =========================
         HOME VIEW (unchanged)
    ========================== -->
    <section id="viewHome" class="homeView hidden">

      <header class="topbar">
        <div>
          <h1 class="h1">Home</h1>
          <div class="subtitle">Welcome, <strong id="welcomeName">Camilo Vettori</strong></div>
        </div>

        <button id="btnLogout" class="btn btn--pill btn--ghost" type="button">Logout</button>
      </header>

      <!-- CURRENT WEEK CARD -->
     <section class="card card--big">
  <div class="cwHeader">
    <div class="cwLabel">Current week</div>

    <!-- ADD WEEK button -->
    <button id="btnAddWeek" class="btn btn--soft btnAddWeek" type="button">
      + Add week
    </button>
  </div>


        <div class="cwTime" id="cwHHMM">00:00</div>
        <div class="cwPay" id="cwPay">‚Ç¨0.00</div>

        <div class="cwActions">
          <button id="btnIn" class="pill pill--green" type="button">
            <span class="pillIcon">‚úì</span> IN
          </button>

          <button id="btnOut" class="pill pill--gray" type="button">OUT</button>

          <button id="btnBreak" class="pill pill--orange" type="button">
            <span class="pillIcon">‚è±</span> BREAK
          </button>
        </div>

        <div class="cwLine">
          <span><strong>IN:</strong> <span id="cwIn">00:00</span></span>
          <span class="dot">‚Ä¢</span>
          <span><strong>OUT:</strong> <span id="cwOut">00:00</span></span>
          <span class="dot">‚Ä¢</span>
          <span><strong>BREAK:</strong> <span id="cwBreak">0m</span></span>
        </div>

        <div class="cwStatus">
          <span class="statusIcon">‚úì</span>
          <span id="cwStatusText">You're on track this week!</span>
          <span class="flex1"></span>
          <span>üí™</span>
        </div>
      </section>

      <!-- Bank Holidays card -->



      <!-- ALL TIME / TODAY CARD -->
      <section class="card card--split" id="cardAllTime">
        <div class="split">
          <div class="splitLeft">
            <div class="splitTitle">
              <span class="miniIcon">üïí</span>
              <span>All Time</span>
            </div>

            <div class="splitMain">
              <div class="splitHHMM" id="allHHMM">00:00</div>
              <div class="splitEUR" id="allPay">‚Ç¨0.00</div>
            </div>

            <div class="splitMiniLine">
              <span><strong>IN:</strong> <span id="allIn">00:00</span></span>
              <span class="dot">‚Ä¢</span>
              <span><strong>OUT:</strong> <span id="allOut">00:00</span></span>
              <span class="dot">‚Ä¢</span>
              <span><strong>‚è±</strong> <span id="allBreak">0m</span></span>
            </div>
          </div>

          <div class="splitDivider"></div>

          <div class="splitRight">
            <div class="splitTitleRight">
              <span class="miniIcon">üíº</span>
              <span>Today</span>
            </div>

            <div class="todayEUR" id="todayPay">‚Ç¨0.00</div>
          </div>
        </div>
      </section>

      <!-- BANK HOLIDAYS CARD -->
      <section class="card card--list" id="cardHolidays">
        <div class="listRowTop">
          <div class="listTitle">üèÅ Bank Holidays</div>
          <div class="chev">‚Ä∫</div>
        </div>

        <div class="bhLine"><span class="bhDot bhDot--g"></span> Available: <strong id="bhAvail">0</strong></div>
        <div class="bhLine"><span class="bhDot bhDot--b"></span> Paid: <strong id="bhPaid">0</strong></div>
        <div class="bhLine"><span class="bhDot bhDot--o"></span> Remaining: <strong id="bhRemain">0</strong></div>
      </section>

      <!-- REPORTS CARD -->
      <section class="card card--reports" id="cardReports">
        <div class="listRowTop">
          <div class="listTitle">üìÖ Week Summary</div>
<div class="reportsSub">Weeks ‚Ä¢ Edit ‚Ä¢ Print</div>

          <div class="chev">‚Ä∫</div>
        </div>
        <div class="reportsSub">View your work summaries</div>
      </section>

      <!-- BOTTOM NAV -->
      <nav class="bottomNav">
        <button id="navHome" class="navItem navItem--active" type="button">Home</button>
        <button id="navHistory" class="navItem" type="button">Roster</button>
        <button id="navHolidays" class="navItem" type="button">Holidays</button>
        <button id="navReports" class="navItem" type="button">Week</button>
        <button id="navProfile" class="navItem" type="button">Profile</button>
      </nav>
      
</div>


      <div class="safeSpace"></div>
    </section>

  </main>

  <script defer src="/static/app.js?v=12"></script>
</body>
</html>